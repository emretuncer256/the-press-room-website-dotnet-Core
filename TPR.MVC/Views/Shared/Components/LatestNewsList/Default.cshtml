@using TPR.Business.Abstract
@using TPR.MVC.Enums

@model List<Article>
@inject ICategoryService CS
@inject IUserService US

@if (Model.Count <= 0)
{
    <div class="alert alert-warning w-100">No News</div>
}
@foreach (var item in Model.Take(4))
{
    <div class="col-lg-6 d-flex align-items-stretch" style="border-radius: 15px;">
        <div class="position-relative mb-3">
            <img class="img-fluid w-100" src="~/uploads/Authors/Thumbnails/@item.Thumbnail" style="object-fit: cover;">
            <div class="bg-white border border-top-0 p-4">
                <div class="mb-2">
                    <a class="badge badge-primary text-uppercase font-weight-semi-bold p-2 mr-2"
                       href="">@CS.GetById(item.CategoryId).Data.Name</a>
                    <a class="text-body" href=""><small>@item.CreatedAt.ToString("MMM d, yyyy")</small></a>
                </div>
                <a asp-controller="News" asp-action="Read" asp-route-id="@item.Id" class="h4 d-block mb-3 text-secondary text-uppercase font-weight-bold">@item.Title</a>
                <p class="m-0">
                    Dolor lorem eos dolor duo et eirmod sea. Dolor sit magna
                    rebum clita rebum dolor stet amet justo...
                </p>
            </div>
            <div class="d-flex justify-content-between bg-white border border-top-0 p-4">
                <div class="d-flex align-items-center">
                    <img class="rounded-circle mr-2" src="https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png?20150327203541" width="25" height="25" alt="">
                    <small>@US.GetById(item.UserId).Name</small>
                </div>
                <div class="d-flex align-items-center">
                    <small class="ml-3"><i class="far fa-eye mr-2"></i>@item.Hits</small>
                    <small class="ml-3"><i class="far fa-heart mr-2"></i>@item.Likes</small>
                </div>
            </div>
        </div>
    </div>
}
<div class="col-lg-12 mb-3">
    <a href=""><img class="img-fluid w-100" src="/theme/img/ads-728x90.png" alt=""></a>
</div>
@foreach (var item in Model.Skip(4).Take(1))
{
    <div class="col-lg-12">
        <div class="row news-lg mx-0 mb-3">
            <div class="col-md-6 h-100 px-0">
                <img class="img-fluid h-100" src="/uploads/Authors/Thumbnails/@item.Thumbnail" style="object-fit: cover;">
            </div>
            <div class="col-md-6 d-flex flex-column border bg-white h-100 px-0">
                <div class="mt-auto p-4">
                    <div class="mb-2">
                        <a class="badge badge-primary text-uppercase font-weight-semi-bold p-2 mr-2"
                           href="">@CS.GetById(item.CategoryId).Data.Name</a>
                        <a class="text-body" href=""><small>@item.CreatedAt.ToString("MMM dd, yyyy")</small></a>
                    </div>
                    <a class="h4 d-block mb-3 text-secondary text-uppercase font-weight-bold" href="/News/Read/@item.Id">@(item.Title.Length <= 30 ? item.Title : item.Title.Substring(30) + "...")</a>
                    <p class="m-0">
                        Dolor lorem eos dolor duo et eirmod sea. Dolor sit magna
                        rebum clita rebum dolor stet amet justo
                    </p>
                </div>
                <div class="d-flex justify-content-between bg-white border-top mt-auto p-4">
                    <div class="d-flex align-items-center">
                        <img class="rounded-circle mr-2" src="https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png?20150327203541" width="25" height="25" alt="">
                        <small>@US.GetById(item.UserId).Name</small>
                    </div>
                    <div class="d-flex align-items-center">
                        <small class="ml-3"><i class="far fa-eye mr-2"></i>@item.Hits</small>
                        <small class="ml-3"><i class="far fa-heart mr-2"></i>@item.Likes</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
@foreach (var item in Model.Skip(5))
{
    <div class="col-lg-6">
        <div class="d-flex align-items-center bg-white mb-3" style="height: 110px;">
            <img style="height: 110px;width: 110px;" class="img-fluid" src="/uploads/Authors/Thumbnails/@item.Thumbnail" alt="">
            <div class="w-100 h-100 px-3 d-flex flex-column justify-content-center border border-left-0">
                <div class="mb-2">
                    <a class="badge badge-primary text-uppercase font-weight-semi-bold p-1 mr-2" href="">@CS.GetById(item.CategoryId).Data.Name</a>
                    <a class="text-body" href=""><small>@item.CreatedAt.ToString("MMM dd, yyyy")</small></a>
                </div>
                <a class="h6 m-0 text-secondary text-uppercase font-weight-bold" href="/News/Read/@item.Id">@(item.Title.Length <= 30 ? item.Title : item.Title.Substring(30) + "...")</a>
            </div>
        </div>
    </div>
}